<!DOCTYPE html>
<html>
  <head>
    <title>Tech Noir</title>
    <!-- <meta name="description" content="A cool thing made with Glitch">
    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon"> -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!--     <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.5.0/aframe.min.js.map"></script> -->
    <script src="https://rawgit.com/aframevr/aframe/e8883b9/dist/aframe-master.min.js"></script>

    <script src="https://mannymeadows.github.io/Noosa/aframe-extras.js"></script>
    <script src="https://rawgit.com/andreasplesch/aframe-crease-component/master/dist/aframe-crease-component.min.js"></script>

    <script src="https://rawgit.com/ngokevin/kframe/0.3.0/dist/k-frame.min.js"></script>
    <script src="https://rawgit.com/gmarty/aframe-ui-components/master/dist/aframe-ui-components.min.js"></script>
    <script src="https://rawgit.com/IdeaSpaceVR/aframe-ui-modal-component/master/dist/aframe-ui-modal-component.min.js"></script>
    <script src="https://rawgit.com/blairmacintyre/aframe-look-at-billboard-component/master/dist/aframe-look-at-billboard-component.min.js"></script>
    <script src="https://rawgit.com/ngokevin/aframe-html-shader/master/dist/aframe-html-shader.min.js"></script>


    <!-- <script src="https://rawgit.com/scenevr/htmltexture-component/master/dist/aframe-htmltexture-component.min.js"></script> -->

    <!-- <script src="https://cdn.rawgit.com/tizzle/aframe-sprite-component/master/dist/aframe-sprite-component.min.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.8.0/d3.min.js"></script>

    <script src="../client/index.js"></script>
    <script src="./testVK.js"></script>

  </head>
  <body>

    <a-scene fog="type: linear; color: black; density: 0.01" shadow="type: pcfsoft" light="shadowMapType: basic" stats> <!-- fog="color: black; density: 0.8; far: 10; near: 4" or fog="color: black; density: 0.12; far: 10; near: 10; type: exponential" -->
      <a-assets>
        <!-- <img id="person" src="http://www.clipartbest.com/cliparts/Kin/X6g/KinX6gp5T.png"> -->

        <!-- <a-asset-item id="akira-obj" src="/assets/models/akira-bike-1.obj"></a-asset-item>
        <a-asset-item id="akira-mtl" src="/assets/models/akira-bike-1.mtl"></a-asset-item> -->

        <a-mixin id="hover-light"
          light="type: spot; color: #FFF; intensity: 0.6; angle: 12; penumbra: 1"
          position="0 1 0"
          rotation="-90 0 0"
          visible="true">
        </a-mixin>


        <a-mixin id="popup-title" position="0 0.3 0" text="value: Placeholder Title;" billboard></a-mixin>
        <a-mixin id="popup-img" position="0 0 0" billboard></a-mixin>
        <a-mixin id="popup-text" position="0 0.7 0" text="value: Placeholder Text Placeholder Text Placeholder Text;" billboard></a-mixin>
        <a-mixin id="popup-video" position="0 0.2 -0.5" billboard></a-mixin>
      </a-assets>

      <!-- Camera -->
      <a-entity position="0 0 3.8">
        <a-entity id="camera"
          camera="userHeight: 1.6"
          look-controls
          wasd-controls>
          <a-entity
            cursor="fuse: true; fuseTimeout: 500"
            raycaster="far: 20; interval: 1000; objects:; recursive: true"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
            material="color: #f4b342; shader: flat">
            <!-- Cursor Animation -->
            <!-- <a-animation
              begin="click"
              easing="ease-in"
              attribute="scale"
              fill="backwards"
              from="0.1 0.1 0.1"
              to="1 1 1"
              dur="1500">
            </a-animation>
            <a-animation
              begin="cursor-fusing"
              easing="ease-in"
              attribute="scale"
              fill="forwards"
              from="1 1 1"
              to="0.1 0.1 0.1"
              dur="1500">
            </a-animation> -->
          </a-entity>

          <!-- <a-entity
            geometry="primitive: circle; radius: 0.03"
            position="0 0 -1"
            material="color: gray; opacity: 0.5">
          </a-entity> -->
        </a-entity>
      </a-entity>

      <!-- <a-entity>
        <a-cone height="5"
              radius-top="0.5"
              radius-bottom="1.5"
              open-ended="true"
              position="0 0 0"
              opacity="0"
              material="shader: volumetric-light; spotPosition: 0 0 0; opacity: 0; attenuation: 3.49; anglePower: 3.36;">
        </a-cone>
        <a-light type="spot" color="#fff" angle="35"
                 rotation="-90 0 0"
                 position="0 0 0"
                 target="#box"
                 intensity="0.54"
                 penumbra="0.57"
                 shadowCameraFar="499.87">
        </a-light>
      </a-entity> -->

<!-- test volumetric lighting -->

      <!-- <a-light type="spot" color="#fff" angle="35" target="#box" intensity="0.54" penumbra="0.57" shadowcamerafar="499.87" light="angle:69.75;color:#fff;intensity:0.54;penumbra:0.57;type:spot;target:null;castShadow:true;shadowBias:0.05;shadowCameraFar:501.12;shadowCameraFov:91.59;shadowCameraNear:1.38;shadowCameraTop:4.87;shadowCameraVisible:true">
      </a-light>

      <a-cone height="5" radius-top="0.5" radius-bottom="1.5" open-ended="true" opacity="0" material="opacity:0;shader:volumetric-light;attenuation:100000;anglePower:14.81;spotPosition:{&quot;x&quot;:0,&quot;y&quot;:0,&quot;z&quot;:-45};lightColor:{&quot;x&quot;:0.5,&quot;y&quot;:1,&quot;z&quot;:1}" geometry="mergeTo:null;primitive:cone;height:2.68;openEnded:true;radiusBottom:4.11;radiusTop:2.88;segmentsHeight:17;segmentsRadial:19;radius:2.47">
      </a-cone>

      <a-entity position="">
        <a-cone height="5" radius-top="0.5" radius-bottom="1.5" open-ended="true" opacity="0" material="shader: volumetric-light; spotPosition: 0 0 0; opacity: 0; attenuation: 3.49; anglePower: 3.36;" rotation="" scale="" visible="" geometry="">
        </a-cone>
        <a-light type="spot" color="#fff" angle="35" target="#box" intensity="0.54" penumbra="0.57" shadowcamerafar="499.87" scale="" visible="" light="">
        </a-light>
      </a-entity> -->

<!-- shader test -->

      <!-- <a-sphere material-displacement
                scale="1 1 1"
                radius="0.2"
                position="0 3.5 -12"
                segments-height="128"
                segments-width="128">
        <a-animation attribute="scale" direction="alternate-reverse" dur="20000" from="1 1 1" to="4 4 4" repeat="indefinite"></a-animation>
      </a-sphere> -->

<!-- OBJECTS -->
      <!-- <a-entity obj-model="obj: #akira-obj; mtl: #akira-mtl"></a-entity> -->
      <a-entity geometry="primitive: box" scale="0.5 2 0.5" rotation="0 22d 0" position="0 2 -4" draw="width: 128; height: 512;" htmltexture="asset: #popup"></a-entity>

      <a-entity class="object-selectable" id="akira" position="-0.85 0.8 1">
        <a-entity id="akira-obj" spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: red">

          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity class="object-selectable" id="district-9" position="-0.223 0.8 1.2">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: orange">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>

      </a-entity>

      <a-entity class="object-selectable" id="minority-report" position="-0.559 0.8 1.4">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: white">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity class="object-selectable" id="twelve-monkeys" position="0.258 0.8 1.9">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: gray">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity class="object-selectable" id="metropolis" position="0.36 0.8 1.6">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: yellow">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity class="object-selectable" id="design-blimp" position="-0.5 0.8 1.9">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: purple">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity class="object-selectable" id="tech-vk" position="0.66 0.8 1.57">
        <a-entity spotlight
          geometry="depth: 0.1; height: 0.1; width: 0.1"
          material="color: black">
          <a-animation
            begin="mouseenter"
            attribute="position"
            from="0 0 0"
            to="0 0.2 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            begin="mouseenter"
            attribute="rotation"
            from="0 0 0"
            to="0 360 0"
            dur="2000"
            fill="both">
          </a-animation>

          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="position"
            from="0 0.2 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
          <a-animation
            delay="7000"
            begin="mouseleave"
            attribute="rotation"
            from="0 360 0"
            to="0 0 0"
            dur="2000"
            fill="both">
          </a-animation>
        </a-entity>
      </a-entity>


<!-- Person Reference -->
      <a-box id="person-ref" position="-1.4 0.85 0.3" height="1.7" width="0.6" depth="0.2" color="#ffba54" opacity="0.8"></a-box>

<!--    Floor    -->
      <a-plane id="floor" height="30" width="30" rotation="-90 0 0" color="grey" shadow="cast: false"></a-plane>

<!--   ceiling      -->
      <a-box id="ceiling" depth="7.6" height="0.5" width="30" position="0 3.4 1.3" color="#efd6a2" shadow="cast: false"></a-box>

<!--   back walls      -->
      <a-box id="back-wall-lower" depth="0.2" height="3" width="30" position="0 1 -3.2" rotation="15 0 0" color="#efd6a2" shadow=""></a-box>
      <a-box id="back-wall-upper" depth="0.2" height="2" width="30" position="0 4 -2.396" rotation="15 0 0" color="#efd6a2" shadow=""></a-box>

<!--   side walls  left    -->
      <a-box id="side-wall-left-back" depth="1.7" height="3.2" width="0.5" position="-2.6 1.6 -1.83" color="#efd6a2" shadow=""></a-box>
      <a-box id="side-wall-left-angle" depth="1" height="4" width="0.5" position="-2.6 1.6 -2.623" color="#efd6a2" rotation="15 0 0" shadow=""></a-box>
      <a-box id="side-wall-left" depth="4" height="2" width="0.2" position="-2.6 1 1" color="#efd6a2" shadow="cast: false"></a-box>

<!--   side walls  right    -->
      <a-box id="side-wall-right-back" depth="1.7" height="3.2" width="0.5" position="2.6 1.6 -1.83" color="#efd6a2" shadow=""></a-box>
      <a-box id="side-wall-right-angle" depth="1" height="4" width="0.5" position="2.6 1.6 -2.623" color="#efd6a2" rotation="15 0 0" shadow=""></a-box>
      <a-box id="side-wall-right" depth="4" height="2" width="0.2" position="2.6 1 1" color="#efd6a2" shadow=""></a-box>

<!--   side walls  lextended    -->
      <a-box depth="1.7" height="3.2" width="0.5" position="6.2 1.6 -1.83" color="#efd6a2"></a-box>
      <a-box depth="1" height="4" width="0.5" position="6.2 1.6 -2.623" color="#efd6a2" rotation="15 0 0"></a-box>
      <a-box depth="4" height="2" width="0.2" position="6.2 1 1" color="#efd6a2"></a-box>

      <a-box depth="1.7" height="3.2" width="0.5" position="-6.2 1.6 -1.83" color="#efd6a2"></a-box>
      <a-box depth="1" height="4" width="0.5" position="-6.2 1.6 -2.623" color="#efd6a2" rotation="15 0 0"></a-box>
      <a-box depth="4" height="2" width="0.2" position="-6.2 1 1" color="#efd6a2"></a-box>

<!--   filing cabinet     -->
      <a-entity id="filing"
        position="0 0.37 0"
        geometry="depth: 0.9; height: 1; width: 1.2"
        material="color: #676971; roughness: 0.6"
        shadow="">
      </a-entity>
      <a-entity id="typewriter"
        position="0 1 0"
        geometry="depth: 0.5; height: 0.27; width: 0.81"
        material="color: #666667; metalness: 0.45; roughness: 0.59"
        shadow="">
      </a-entity>

<!-- Tables -->
      <a-entity id="table-1" position="-0.5 0.37 1.5" geometry="depth: 1.2; height: 0.75; width: 0.9" material="color: #bab4a7; roughness: 0.6" shadow=""></a-entity>
      <a-entity id="table-2" position="0.5 0.37 1.5" geometry="depth: 1.2; height: 0.75; width: 0.9" material="color: #bab4a7; roughness: 0.6" shadow=""></a-entity>

<!--  Fan  -->
      <a-entity id="fan-parent" position="0 1.85 1.54" shadow="">
        <a-entity>
          <a-entity id="fan-blade-1"
            position="0 0 -0.6"
            rotation="4 180 10"
            geometry="height: 0.01; width: 0.055"
            material="color: #5b4e38; roughness: 0">
          </a-entity>

          <a-entity id="fan-blade-2"
            position="0 0 0.6"
            rotation="4 0 1"
            geometry="height: 0.01; width: 0.055"
            material="color: #5b4e38; roughness: 0">
          </a-entity>

          <a-entity id="fan-blade-3"
            position="0.6 0 0"
            rotation="4 90 10"
            geometry="height: 0.01; width: 0.055"
            material="color: #5b4e38; roughness: 0">
          </a-entity>

          <a-entity id="fan-blade-4"
            position="-0.6 0 0"
            rotation="4 -90 10"
            geometry="height: 0.01; width: 0.055"
            material="color: #5b4e38; roughness: 0">
          </a-entity>

          <a-animation attribute="rotation"
            dur="5000"
            easing="linear"
            fill="forwards"
            to="0 360 0"
            repeat="indefinite">
          </a-animation>
        </a-entity>
      </a-entity>

      <a-entity id="fan-parent-static" position="0 3.24 0" shadow="">
        <a-entity id="fan-housing"
            position="0 -1.28 1.54"
            geometry="primitive: cylinder; height: 0.1; radius: 0.16"
            material="color: #ab8c42; metalness: 0.8; roughness: 0.46">
        </a-entity>

        <a-entity id="fan-housing-lower"
            position="0 -1.355 1.54"
            geometry="primitive: cylinder; height: 0.06; radius: 0.08"
            material="color: #ab8c42; metalness: 0.8; roughness: 0.46">
        </a-entity>

        <a-entity id="fan-attach" position="0 -0.5 1.54"
          geometry="primitive: cylinder; height: 1.5;radius: 0.02"
          material="color: #ab8c42; metalness: 0.8; roughness: 0.46">
        </a-entity>
      </a-entity>

<!--   Lights     -->
      <a-entity light="color: #9ebbc1; groundColor: #819296; intensity: 0.02; type: ambient"></a-entity>
      <!-- <a-entity id="amb-light-left"
        position="-12 5 5"
        light="type: directional; intensity: 0.2; castShadow: true">
      </a-entity>
      <a-entity id="amb-light-right"
        position="12 5 5"
        light="type: directional; intensity: 0.2; castShadow: true">
      </a-entity>

      <a-entity id="amb-light-back"
        position="5 7 -12"
        light="color: #4e99a3; groundColor: #ffda99; type: point; castShadow: true">
      </a-entity>
      <a-entity id="amb-back-dir"
        position="2.7 3.55 -8"
        light="color: #abbc9a; groundColor: #ffda99; castShadow: true; shadowCameraFar: 500.69; shadowCameraFov: 90.93; shadowCameraRight: 7.99; shadowCameraBottom: -2; shadowCameraLeft: -8">
      </a-entity> -->
<!-- Exterior -->
      <a-plane id="sky-plane"
        position="0 2.6 -2.98"
        rotation="15 0 0"
        light="color: #abbc9a; groundColor: #7ebbff; intensity: 0.2; castShadow: true"
        geometry="primitive: plane; height: 3; width: 30"
        material="shader: flat; color: #D6D4BB">
      </a-plane>
      <a-sky color="black" position="" rotation="" scale="" visible="" material="" geometry=""></a-sky>
<!-- ==============  Temporary  ============== -->
      <a-entity id="temp-light-amb" light="color: #9ebbc1; groundColor: #819296; intensity: 1; type: ambient"></a-entity>


      <!-- Quiz Test -->
      <a-entity id="a-quiz"  position="1.07 1.23 4" > <!-- class="lead quiz-1" -->
        <a-entity id="a-content" value=""></a-entity>
        <a-text id="a-questionContainer" value=""></a-text>
        <a-text id="a-choicesContainer" value=""></a-text>
        <a-entity id="a-next-btn">
          <a-box id="a-submitBtn" color="tomato" depth="0.1" height="0.1" width="0.1" rotation="0 -90 0"></a-box>
          <a-text value="Next Question" rotation="0 -90 0"></a-text>
        </a-entity>
      </a-entity>

    </a-scene>
<!-- hiddden test -->
    <div>
      <div class="test">

        <div id="quiz" class="lead quiz-1">
          <div id="content"></div>
          <div id="questionContainer"></div>
          <div id="choicesContainer"></div>
        </div>
      </div>

      <div id="content"></div>
      <div id="next-btn">
        <input type="button" id="submitBtn" value="Next Question" />
      </div>
    </div>

  </body>
</html>
